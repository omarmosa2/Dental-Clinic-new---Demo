# ูุธุงู ุงูุชุญุฏูุซ ูู ุงูููุช ุงููุนูู ููุชูุจููุงุช

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุดุงูู ููุชุญุฏูุซ ูู ุงูููุช ุงููุนูู ููุชูุจููุงุช ูุถูู ุฃู ุฃู ุชุนุฏูู ูุชู ุนูู ุฃู ุชูุจูู ูู ุงููุธุงู ูุชู ุชุญุฏูุซู ููุฑุงู ูู ุฌููุน ุฃูุญุงุก ุงูุชุทุจูู ุจุฏูู ุงุณุชุซูุงุก.

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

### 1. ูุธุงู ุงูุฃุญุฏุงุซ (AlertsEventSystem)
- **ุงููููุน**: `src/services/smartAlertsService.ts`
- **ุงููุธููุฉ**: ุฅุฏุงุฑุฉ ุงูุฃุญุฏุงุซ ุงููุจุงุดุฑุฉ ููุชูุจููุงุช
- **ุงูุฃุญุฏุงุซ ุงููุฏุนููุฉ**:
  - `alerts:changed` - ุชุบููุฑ ุนุงู ูู ุงูุชูุจููุงุช
  - `alert:updated` - ุชุญุฏูุซ ุชูุจูู ูุญุฏุฏ
  - `alert:created` - ุฅูุดุงุก ุชูุจูู ุฌุฏูุฏ
  - `alert:deleted` - ุญุฐู ุชูุจูู

### 2. ูุธุงู ุฅุดุนุงุฑุงุช ุชุบููุฑ ุงูุจูุงูุงุช (DataChangeNotifier)
- **ุงููููุน**: `src/utils/dataChangeNotifier.ts`
- **ุงููุธููุฉ**: ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ุนูุฏ ุชุบููุฑ ุฃู ุจูุงูุงุช ูู ุงููุธุงู
- **ุงูุฃุญุฏุงุซ ุงููุฏุนููุฉ**:
  - ุฃุญุฏุงุซ ุงููุฑุถู: `patient:created`, `patient:updated`, `patient:deleted`
  - ุฃุญุฏุงุซ ุงูููุงุนูุฏ: `appointment:created`, `appointment:updated`, `appointment:deleted`
  - ุฃุญุฏุงุซ ุงูุฏูุนุงุช: `payment:created`, `payment:updated`, `payment:deleted`
  - ุฃุญุฏุงุซ ุงูุนูุงุฌุงุช: `treatment:created`, `treatment:updated`, `treatment:deleted`
  - ุฃุญุฏุงุซ ุงููุตูุงุช: `prescription:created`, `prescription:updated`, `prescription:deleted`
  - ุฃุญุฏุงุซ ุงููุฎุฒูู: `inventory:created`, `inventory:updated`, `inventory:deleted`
  - ุฃุญุฏุงุซ ุงูุงุญุชูุงุฌุงุช: `need:created`, `need:updated`, `need:deleted`

### 3. Global Store ุงููุญุฏุซ
- **ุงููููุน**: `src/store/globalStore.ts`
- **ุงูุชุญุณููุงุช**:
  - ุฅุฒุงูุฉ ุงูุชุญุฏูุซ ุงููุฏูู ููุญุงูุฉ
  - ุงูุงุนุชูุงุฏ ุนูู ูุธุงู ุงูุฃุญุฏุงุซ ููุชุญุฏูุซ ุงูุชููุงุฆู
  - ูุณุชูุนูู ููุฃุญุฏุงุซ ุงููุจุงุดุฑุฉ ูุฃุญุฏุงุซ window

## ๐ง ุงูููููุงุช ุงูุฑุฆูุณูุฉ

### 1. useRealTimeAlerts Hook
- **ุงููููุน**: `src/hooks/useRealTimeAlerts.ts`
- **ุงููุธููุฉ**: ุฅุนุฏุงุฏ ุงูุชุญุฏูุซุงุช ูู ุงูููุช ุงููุนูู ููุชูุจููุงุช
- **ุงูููุฒุงุช**:
  - ุงูุงุณุชูุงุน ูุฃุญุฏุงุซ ุงูุชูุจููุงุช ุงููุจุงุดุฑุฉ
  - ุงูุงุณุชูุงุน ูุฃุญุฏุงุซ ุชุบููุฑ ุงูุจูุงูุงุช
  - ุงูุชูุงูู ูุน ุงูุฃุญุฏุงุซ ุงููุฏููุฉ
  - ุชูุธูู ุงููุณุชูุนูู ุชููุงุฆูุงู

### 2. useDataChangeNotifications Hook
- **ุงููููุน**: `src/hooks/useDataChangeNotifications.ts`
- **ุงููุธููุฉ**: ุฅุฏุงุฑุฉ ุฅุดุนุงุฑุงุช ุชุบููุฑ ุงูุจูุงูุงุช
- **ุงูููุฒุงุช**:
  - hooks ูุฎุตุตุฉ ููู ููุน ุจูุงูุงุช
  - hook ุดุงูู ูุฌููุน ุงูุชุบููุฑุงุช
  - ุฏูุงู ูุณุงุนุฏุฉ ูุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช

### 3. RealTimeIndicator Component
- **ุงููููุน**: `src/components/global/RealTimeIndicator.tsx`
- **ุงููุธููุฉ**: ุนุฑุถ ุญุงูุฉ ุงูุชุญุฏูุซุงุช ูู ุงูููุช ุงููุนูู
- **ุงูููุฒุงุช**:
  - ูุคุดุฑ ุญุงูุฉ ุงูุงุชุตุงู
  - ุนุฏุงุฏ ุงูุชุญุฏูุซุงุช
  - ุขุฎุฑ ููุช ุชุญุฏูุซ
  - ุนุฏุฏ ุงูุชูุจููุงุช ุบูุฑ ุงูููุฑูุกุฉ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ูู ุงูููููุงุช
```tsx
import { useRealTimeAlerts } from '@/hooks/useRealTimeAlerts'

function MyComponent() {
  // ุฅุนุฏุงุฏ ุงูุชุญุฏูุซุงุช ูู ุงูููุช ุงููุนูู
  const { refreshAlerts } = useRealTimeAlerts()
  
  // ุงููููู ุณูุชููู ุชุญุฏูุซุงุช ุชููุงุฆูุฉ
  return <div>...</div>
}
```

### 2. ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ุชุบููุฑ ุงูุจูุงูุงุช
```tsx
import { useDataNotifier } from '@/hooks/useDataChangeNotifications'

function PatientForm() {
  const { notifyPatientCreated, notifyPatientUpdated } = useDataNotifier()
  
  const handleSave = async (patient) => {
    if (patient.id) {
      await updatePatient(patient)
      notifyPatientUpdated(patient.id, patient)
    } else {
      const newPatient = await createPatient(patient)
      notifyPatientCreated(newPatient.id, newPatient)
    }
  }
}
```

### 3. ุงูุงุณุชูุงุน ูุชุบููุฑุงุช ูุญุฏุฏุฉ
```tsx
import { usePatientChangeListener } from '@/hooks/useDataChangeNotifications'

function PatientList() {
  usePatientChangeListener((event, payload) => {
    console.log(`Patient ${event}:`, payload)
    // ุฅุนุงุฏุฉ ุชุญููู ูุงุฆูุฉ ุงููุฑุถู
    refreshPatients()
  })
}
```

## ๐ ุชุฏูู ุงูุนูู

### 1. ุนูุฏ ุชุญุฏูุซ ุชูุจูู:
1. ุงุณุชุฏุนุงุก `SmartAlertsService.updateAlert()`
2. ุฅุฑุณุงู ุญุฏุซ `alert:updated` ุนุจุฑ `AlertsEventSystem`
3. ุฅุฑุณุงู ุญุฏุซ `alerts:changed`
4. ุชุญุฏูุซ `globalStore` ุชููุงุฆูุงู
5. ุฅุนุงุฏุฉ ุฑุณู ุฌููุน ุงูููููุงุช ุงููุชุฃุซุฑุฉ

### 2. ุนูุฏ ุชุบููุฑ ุงูุจูุงูุงุช:
1. ุงุณุชุฏุนุงุก ุฏุงูุฉ ุงูุฅุดุนุงุฑ ุงูููุงุณุจุฉ (ูุซู `notifyPatientUpdated`)
2. ุฅุฑุณุงู ุญุฏุซ ุนุจุฑ `DataChangeNotifier`
3. ุฅุฑุณุงู ุฃุญุฏุงุซ ูุฏููุฉ ููุชูุงูู
4. ุฅุดุนุงุฑ ูุธุงู ุงูุชูุจููุงุช
5. ุฅุนุงุฏุฉ ุชูููุฏ ุงูุชูุจููุงุช ุงููุชุฃุซุฑุฉ

## ๐ ูุคุดุฑุงุช ุงูุฃุฏุงุก

### 1. ุชูููู ุงูุชุญุฏูุซุงุช ุบูุฑ ุงูุถุฑูุฑูุฉ
- ุชุญุฏูุซ ุฏูุฑู ูู 30 ุซุงููุฉ ุจุฏูุงู ูู 10 ุซูุงูู
- ุชุญุฏูุซุงุช ููุฑูุฉ ุนูุฏ ุชุบููุฑ ุงูุจูุงูุงุช
- ุชุญุฏูุซ ูุญุฏุฏ ููุชูุจููุงุช ุงููุชุฃุซุฑุฉ ููุท

### 2. ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ
- ุชูุธูู ุงููุณุชูุนูู ุชููุงุฆูุงู
- ุฅุฒุงูุฉ ุงูุฃุญุฏุงุซ ุงูููุชููุฉ ุงูุตูุงุญูุฉ
- ุชุฌูุจ ุชุณุฑูุจ ุงูุฐุงูุฑุฉ

## ๐ก๏ธ ุงูุฃูุงู ูุงูููุซูููุฉ

### 1. ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- try-catch ูู ุฌููุน ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ
- ุชุณุฌูู ุงูุฃุฎุทุงุก ูุน ุชูุงุตูู ูุงููุฉ
- ุนุฏู ุชููู ุงููุธุงู ุนูุฏ ุญุฏูุซ ุฎุทุฃ

### 2. ุงูุชูุงูู ูุน ุงููุธุงู ุงููุฏูู
- ุฏุนู ุงูุฃุญุฏุงุซ ุงููุฏููุฉ
- ุชุญููู ุชููุงุฆู ููุฃุญุฏุงุซ ุงูุฌุฏูุฏุฉ
- ุนุฏู ูุณุฑ ุงููุธุงุฆู ุงูููุฌูุฏุฉ

## ๐ง ุงูุชูููู ูุงูุฅุนุฏุงุฏุงุช

### 1. ูุชุฑุงุช ุงูุชุญุฏูุซ
- ุงูุชุญุฏูุซ ุงูุฏูุฑู: 30 ุซุงููุฉ
- ูุญุต ุงูุงุชุตุงู: 30 ุซุงููุฉ
- ุงููุทุงุน ุงูุงุชุตุงู: ุฏูููุชุงู ุจุฏูู ุชุญุฏูุซ

### 2. ุฃููุงุน ุงูุฃุญุฏุงุซ
- ุฃุญุฏุงุซ ูุจุงุดุฑุฉ ุนุจุฑ `AlertsEventSystem`
- ุฃุญุฏุงุซ window ููุชูุงูู
- ุฃุญุฏุงุซ ุชุบููุฑ ุงูุจูุงูุงุช ุนุจุฑ `DataChangeNotifier`

## ๐ ุงููุฒุงูุง

### 1. ุงูุชุญุฏูุซ ุงูููุฑู
- ุฃู ุชุนุฏูู ุนูู ุงูุชูุจููุงุช ูุธูุฑ ููุฑุงู
- ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
- ุชุญุฏูุซ ุฌููุน ุงูููููุงุช ุงููุชุฃุซุฑุฉ

### 2. ุงูููุงุกุฉ
- ุชูููู ุงุณุชููุงู ุงูููุงุฑุฏ
- ุชุญุฏูุซุงุช ูุญุฏุฏุฉ ูุฐููุฉ
- ุฅุฏุงุฑุฉ ุฃูุถู ููุฐุงูุฑุฉ

### 3. ุงูููุซูููุฉ
- ูุธุงู ุงุญุชูุงุทู ููุฃุญุฏุงุซ
- ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก
- ุชูุงูู ูุน ุงููุธุงู ุงููุฏูู

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### 1. ุชุญุณููุงุช ูุฎุทุทุฉ
- ุฏุนู WebSocket ููุชุญุฏูุซุงุช ุงูููุฑูุฉ
- ุถุบุท ุงูุฃุญุฏุงุซ ุงููุชุชุงููุฉ
- ุชุญูููุงุช ุฃุฏุงุก ูุชูุฏูุฉ

### 2. ููุฒุงุช ุฅุถุงููุฉ
- ุฅุดุนุงุฑุงุช push ูููุชุตูุญ
- ุชุฒุงูู ุนุจุฑ ุนูุงูุงุช ุชุจููุจ ูุชุนุฏุฏุฉ
- ุชุฎุฒูู ูุคูุช ุฐูู ููุชูุจููุงุช

## ๐ ููุงุญุธุงุช ุงูุชุทููุฑ

### 1. ุฃูุถู ุงูููุงุฑุณุงุช
- ุงุณุชุฎุฏุงู hooks ุงููุฎุตุตุฉ
- ุชูุธูู ุงููุณุชูุนูู ุฏุงุฆูุงู
- ุชุณุฌูู ุงูุฃุญุฏุงุซ ููุชุชุจุน

### 2. ุงุฎุชุจุงุฑ ุงููุธุงู
- ุงุฎุชุจุงุฑ ุฌููุน ุฃููุงุน ุงูุฃุญุฏุงุซ
- ุงูุชุฃูุฏ ูู ุงูุชูุธูู ุงูุตุญูุญ
- ูุฑุงูุจุฉ ุงูุฃุฏุงุก ูุงูุฐุงูุฑุฉ

ูุฐุง ุงููุธุงู ูุถูู ุฃู ุฃู ุชุนุฏูู ุนูู ุฃู ุชูุจูู ูู ุงููุธุงู ูุชู ุชุญุฏูุซู ูู ุงูููุช ุงููุนูู ุนุจุฑ ูู ุงููุดุฑูุน ุจุฏูู ุงุณุชุซูุงุกุ ููุง ุทูุจุช.
